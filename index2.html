<!DOCTYPE html><html>< head >  < meta name = "description"content = "Bezier aus Punktwolke" >  < meta charset = "utf-8" >  < style >  canvas  {    border - style: solid;    border - width: 3 px;    touch - action: none;    cursor: url("http://doc.qt.digia.com/qtcreator-2.1/images//element.png") 4 4, pointer;  }  .aktiv  {    background - color: #ffff00;    border - color: #ff0000;    border - width: 3 px;  }.top{  z - index: 10;  width: 100 % ;  background - color: #cccccc;  position: fixed;  left: 0 px;  top: 0 px;  padding - top: 3 px;  padding - bottom: 3 px;}.right{  z - index: 10;  width: 200 px;  height: 100 % ;  background - color: #cccccc;  position: fixed;  right: 0 px;  top: 0 px;  padding - left: 3 px;  padding - right: 3 px;}.left{  z - index: 10;  width: 200 px;  height: 100 % ;  background - color: #cccccc;  position: fixed;  left: 0 px;  top: 0 px;  padding - left: 3 px;  padding - right: 3 px;}#menuCommon{  width: 100 % ;}.moveDown{  margin - top: 150 px;}.moveLeft{  margin - left: 220 px;}.selectMenu{  border - width: 1 px;  border - style: solid;  margin - bottom: 10 px;}< /style>< script src = "https://raw.githubusercontent.com/beautify-web/js-beautify/master/js/lib/beautify.js" > < /script>< script >  var Zepto = function()  {    function L(t)    {      return null == t ? String(t) : j[S.call(t)] || "object"    }    function Z(t)    {      return "function" == L(t)    }    function _(t)    {      return null != t && t == t.window    }    function $(t)    {      return null != t && t.nodeType == t.DOCUMENT_NODE    }    function D(t)    {      return "object" == L(t)    }    function M(t)    {      return D(t) && !_(t) && Object.getPrototypeOf(t) == Object.prototype    }    function R(t)    {      return "number" == typeof t.length    }    function k(t)    {      return s.call(t, function(t)      {        return null != t      })    }    function z(t)    {      return t.length > 0 ? n.fn.concat.apply([], t) : t    }    function F(t)    {      return t.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase()    }    function q(t)    {      return t in f ? f[t] : f[t] = new RegExp("(^|\\s)" + t + "(\\s|$)")    }    function H(t, e)    {      return "number" != typeof e || c[F(t)] ? e : e + "px"    }    function I(t)    {      var e, n;      return u[t] || (e = a.createElement(t), a.body.appendChild(e), n = getComputedStyle(e, "").getPropertyValue("display"), e.parentNode.removeChild(e), "none" == n && (n = "block"), u[t] = n), u[t]    }    function V(t)    {      return "children" in t ? o.call(t.children) : n.map(t.childNodes, function(t)      {        return 1 == t.nodeType ? t : void 0      })    }    function B(n, i, r)    {      for (e in i) r && (M(i[e]) || A(i[e])) ? (M(i[e]) && !M(n[e]) && (n[e] = {}), A(i[e]) && !A(n[e]) && (n[e] = []), B(n[e], i[e], r)) : i[e] !== t && (n[e] = i[e])    }    function U(t, e)    {      return null == e ? n(t) : n(t).filter(e)    }    function J(t, e, n, i)    {      return Z(e) ? e.call(t, n, i) : e    }    function X(t, e, n)    {      null == n ? t.removeAttribute(e) : t.setAttribute(e, n)    }    function W(e, n)    {      var i = e.className || "",        r = i && i.baseVal !== t;      return n === t ? r ? i.baseVal : i : void(r ? i.baseVal = n : e.className = n)    }    function Y(t)    {      try      {        return t ? "true" == t || ("false" == t ? !1 : "null" == t ? null : +t + "" == t ? +t : /^[\[\{]/.test(t) ? n.parseJSON(t) : t) : t      }      catch (e)      {        return t      }    }    function G(t, e)    {      e(t);      for (var n = 0, i = t.childNodes.length; i > n; n++) G(t.childNodes[n], e)    }    var t, e, n, i, C, N, r = [],      o = r.slice,      s = r.filter,      a = window.document,      u = {},      f = {},      c = {        "column-count": 1,        columns: 1,        "font-weight": 1,        "line-height": 1,        opacity: 1,        "z-index": 1,        zoom: 1      },      l = /^\s*<(\w+|!)[^>]*>/,      h = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,      p = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,      d = /^(?:body|html)$/i,      m = /([A-Z])/g,      g = ["val", "css", "html", "text", "data", "width", "height", "offset"],      v = ["after", "prepend", "before", "append"],      y = a.createElement("table"),      x = a.createElement("tr"),      b = {        tr: a.createElement("tbody"),        tbody: y,        thead: y,        tfoot: y,        td: x,        th: x,        "*": a.createElement("div")      },      w = /complete|loaded|interactive/,      E = /^[\w-]*$/,      j = {},      S = j.toString,      T = {},      O = a.createElement("div"),      P = {        tabindex: "tabIndex",        readonly: "readOnly",        "for": "htmlFor",        "class": "className",        maxlength: "maxLength",        cellspacing: "cellSpacing",        cellpadding: "cellPadding",        rowspan: "rowSpan",        colspan: "colSpan",        usemap: "useMap",        frameborder: "frameBorder",        contenteditable: "contentEditable"      },      A = Array.isArray || function(t)      {        return t instanceof Array      };    return T.matches = function(t, e)    {      if (!e || !t || 1 !== t.nodeType) return !1;      var n = t.webkitMatchesSelector || t.mozMatchesSelector || t.oMatchesSelector || t.matchesSelector;      if (n) return n.call(t, e);      var i, r = t.parentNode,        o = !r;      return o && (r = O).appendChild(t), i = ~T.qsa(r, e).indexOf(t), o && O.removeChild(t), i    }, C = function(t)    {      return t.replace(/-+(.)?/g, function(t, e)      {        return e ? e.toUpperCase() : ""      })    }, N = function(t)    {      return s.call(t, function(e, n)      {        return t.indexOf(e) == n      })    }, T.fragment = function(e, i, r)    {      var s, u, f;      return h.test(e) && (s = n(a.createElement(RegExp.$1))), s || (e.replace && (e = e.replace(p, "<$1></$2>")), i === t && (i = l.test(e) && RegExp.$1), i in b || (i = "*"), f = b[i], f.innerHTML = "" + e, s = n.each(o.call(f.childNodes), function()      {        f.removeChild(this)      })), M(r) && (u = n(s), n.each(r, function(t, e)      {        g.indexOf(t) > -1 ? u[t](e) : u.attr(t, e)      })), s    }, T.Z = function(t, e)    {      return t = t || [], t.__proto__ = n.fn, t.selector = e || "", t    }, T.isZ = function(t)    {      return t instanceof T.Z    }, T.init = function(e, i)    {      var r;      if (!e) return T.Z();      if ("string" == typeof e)        if (e = e.trim(), "<" == e[0] && l.test(e)) r = T.fragment(e, RegExp.$1, i), e = null;        else        {          if (i !== t) return n(i).find(e);          r = T.qsa(a, e)        }      else      {        if (Z(e)) return n(a).ready(e);        if (T.isZ(e)) return e;        if (A(e)) r = k(e);        else if (D(e)) r = [e], e = null;        else if (l.test(e)) r = T.fragment(e.trim(), RegExp.$1, i), e = null;        else        {          if (i !== t) return n(i).find(e);          r = T.qsa(a, e)        }      }      return T.Z(r, e)    }, n = function(t, e)    {      return T.init(t, e)    }, n.extend = function(t)    {      var e, n = o.call(arguments, 1);      return "boolean" == typeof t && (e = t, t = n.shift()), n.forEach(function(n)      {        B(t, n, e)      }), t    }, T.qsa = function(t, e)    {      var n, i = "#" == e[0],        r = !i && "." == e[0],        s = i || r ? e.slice(1) : e,        a = E.test(s);      return $(t) && a && i ? (n = t.getElementById(s)) ? [n] : [] : 1 !== t.nodeType && 9 !== t.nodeType ? [] : o.call(a && !i ? r ? t.getElementsByClassName(s) : t.getElementsByTagName(e) : t.querySelectorAll(e))    }, n.contains = a.documentElement.contains ? function(t, e)    {      return t !== e && t.contains(e)    } : function(t, e)    {      for (; e && (e = e.parentNode);)        if (e === t) return !0;      return !1    }, n.type = L, n.isFunction = Z, n.isWindow = _, n.isArray = A, n.isPlainObject = M, n.isEmptyObject = function(t)    {      var e;      for (e in t) return !1;      return !0    }, n.inArray = function(t, e, n)    {      return r.indexOf.call(e, t, n)    }, n.camelCase = C, n.trim = function(t)    {      return null == t ? "" : String.prototype.trim.call(t)    }, n.uuid = 0, n.support = {}, n.expr = {}, n.map = function(t, e)    {      var n, r, o, i = [];      if (R(t))        for (r = 0; r < t.length; r++) n = e(t[r], r), null != n && i.push(n);      else        for (o in t) n = e(t[o], o), null != n && i.push(n);      return z(i)    }, n.each = function(t, e)    {      var n, i;      if (R(t))      {        for (n = 0; n < t.length; n++)          if (e.call(t[n], n, t[n]) === !1) return t      }      else        for (i in t)          if (e.call(t[i], i, t[i]) === !1) return t; return t    }, n.grep = function(t, e)    {      return s.call(t, e)    }, window.JSON && (n.parseJSON = JSON.parse), n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(t, e)    {      j["[object " + e + "]"] = e.toLowerCase()    }), n.fn = {      forEach: r.forEach,      reduce: r.reduce,      push: r.push,      sort: r.sort,      indexOf: r.indexOf,      concat: r.concat,      map: function(t)      {        return n(n.map(this, function(e, n)        {          return t.call(e, n, e)        }))      },      slice: function()      {        return n(o.apply(this, arguments))      },      ready: function(t)      {        return w.test(a.readyState) && a.body ? t(n) : a.addEventListener("DOMContentLoaded", function()        {          t(n)        }, !1), this      },      get: function(e)      {        return e === t ? o.call(this) : this[e >= 0 ? e : e + this.length]      },      toArray: function()      {        return this.get()      },      size: function()      {        return this.length      },      remove: function()      {        return this.each(function()        {          null != this.parentNode && this.parentNode.removeChild(this)        })      },      each: function(t)      {        return r.every.call(this, function(e, n)        {          return t.call(e, n, e) !== !1        }), this      },      filter: function(t)      {        return Z(t) ? this.not(this.not(t)) : n(s.call(this, function(e)        {          return T.matches(e, t)        }))      },      add: function(t, e)      {        return n(N(this.concat(n(t, e))))      },      is: function(t)      {        return this.length > 0 && T.matches(this[0], t)      },      not: function(e)      {        var i = [];        if (Z(e) && e.call !== t) this.each(function(t)        {          e.call(this, t) || i.push(this)        });        else        {          var r = "string" == typeof e ? this.filter(e) : R(e) && Z(e.item) ? o.call(e) : n(e);          this.forEach(function(t)          {            r.indexOf(t) < 0 && i.push(t)          })        }        return n(i)      },      has: function(t)      {        return this.filter(function()        {          return D(t) ? n.contains(this, t) : n(this).find(t).size()        })      },      eq: function(t)      {        return -1 === t ? this.slice(t) : this.slice(t, +t + 1)      },      first: function()      {        var t = this[0];        return t && !D(t) ? t : n(t)      },      last: function()      {        var t = this[this.length - 1];        return t && !D(t) ? t : n(t)      },      find: function(t)      {        var e, i = this;        return e = t ? "object" == typeof t ? n(t).filter(function()        {          var t = this;          return r.some.call(i, function(e)          {            return n.contains(e, t)          })        }) : 1 == this.length ? n(T.qsa(this[0], t)) : this.map(function()        {          return T.qsa(this, t)        }) : n()      },      closest: function(t, e)      {        var i = this[0],          r = !1;        for ("object" == typeof t && (r = n(t)); i && !(r ? r.indexOf(i) >= 0 : T.matches(i, t));) i = i !== e && !$(i) && i.parentNode;        return n(i)      },      parents: function(t)      {        for (var e = [], i = this; i.length > 0;) i = n.map(i, function(t)        {          return (t = t.parentNode) && !$(t) && e.indexOf(t) < 0 ? (e.push(t), t) : void 0        });        return U(e, t)      },      parent: function(t)      {        return U(N(this.pluck("parentNode")), t)      },      children: function(t)      {        return U(this.map(function()        {          return V(this)        }), t)      },      contents: function()      {        return this.map(function()        {          return o.call(this.childNodes)        })      },      siblings: function(t)      {        return U(this.map(function(t, e)        {          return s.call(V(e.parentNode), function(t)          {            return t !== e          })        }), t)      },      empty: function()      {        return this.each(function()        {          this.innerHTML = ""        })      },      pluck: function(t)      {        return n.map(this, function(e)        {          return e[t]        })      },      show: function()      {        return this.each(function()        {          "none" == this.style.display && (this.style.display = ""), "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = I(this.nodeName))        })      },      replaceWith: function(t)      {        return this.before(t).remove()      },      wrap: function(t)      {        var e = Z(t);        if (this[0] && !e) var i = n(t).get(0),          r = i.parentNode || this.length > 1;        return this.each(function(o)        {          n(this).wrapAll(e ? t.call(this, o) : r ? i.cloneNode(!0) : i)        })      },      wrapAll: function(t)      {        if (this[0])        {          n(this[0]).before(t = n(t));          for (var e;            (e = t.children()).length;) t = e.first();          n(t).append(this)        }        return this      },      wrapInner: function(t)      {        var e = Z(t);        return this.each(function(i)        {          var r = n(this),            o = r.contents(),            s = e ? t.call(this, i) : t;          o.length ? o.wrapAll(s) : r.append(s)        })      },      unwrap: function()      {        return this.parent().each(function()        {          n(this).replaceWith(n(this).children())        }), this      },      clone: function()      {        return this.map(function()        {          return this.cloneNode(!0)        })      },      hide: function()      {        return this.css("display", "none")      },      toggle: function(e)      {        return this.each(function()        {          var i = n(this);          (e === t ? "none" == i.css("display") : e) ? i.show(): i.hide()        })      },      prev: function(t)      {        return n(this.pluck("previousElementSibling")).filter(t || "*")      },      next: function(t)      {        return n(this.pluck("nextElementSibling")).filter(t || "*")      },      html: function(t)      {        return 0 in arguments ? this.each(function(e)        {          var i = this.innerHTML;          n(this).empty().append(J(this, t, e, i))        }) : 0 in this ? this[0].innerHTML : null      },      text: function(t)      {        return 0 in arguments ? this.each(function(e)        {          var n = J(this, t, e, this.textContent);          this.textContent = null == n ? "" : "" + n        }) : 0 in this ? this[0].textContent : null      },      attr: function(n, i)      {        var r;        return "string" != typeof n || 1 in arguments ? this.each(function(t)        {          if (1 === this.nodeType)            if (D(n))              for (e in n) X(this, e, n[e]);            else X(this, n, J(this, i, t, this.getAttribute(n)))        }) : this.length && 1 === this[0].nodeType ? !(r = this[0].getAttribute(n)) && n in this[0] ? this[0][n] : r : t      },      removeAttr: function(t)      {        return this.each(function()        {          1 === this.nodeType && t.split(" ").forEach(function(t)          {            X(this, t)          }, this)        })      },      prop: function(t, e)      {        return t = P[t] || t, 1 in arguments ? this.each(function(n)        {          this[t] = J(this, e, n, this[t])        }) : this[0] && this[0][t]      },      data: function(e, n)      {        var i = "data-" + e.replace(m, "-$1").toLowerCase(),          r = 1 in arguments ? this.attr(i, n) : this.attr(i);        return null !== r ? Y(r) : t      },      val: function(t)      {        return 0 in arguments ? this.each(function(e)        {          this.value = J(this, t, e, this.value)        }) : this[0] && (this[0].multiple ? n(this[0]).find("option").filter(function()        {          return this.selected        }).pluck("value") : this[0].value)      },      offset: function(t)      {        if (t) return this.each(function(e)        {          var i = n(this),            r = J(this, t, e, i.offset()),            o = i.offsetParent().offset(),            s = {              top: r.top - o.top,              left: r.left - o.left            };          "static" == i.css("position") && (s.position = "relative"), i.css(s)        });        if (!this.length) return null;        var e = this[0].getBoundingClientRect();        return {          left: e.left + window.pageXOffset,          top: e.top + window.pageYOffset,          width: Math.round(e.width),          height: Math.round(e.height)        }      },      css: function(t, i)      {        if (arguments.length < 2)        {          var r, o = this[0];          if (!o) return;          if (r = getComputedStyle(o, ""), "string" == typeof t) return o.style[C(t)] || r.getPropertyValue(t);          if (A(t))          {            var s = {};            return n.each(t, function(t, e)            {              s[e] = o.style[C(e)] || r.getPropertyValue(e)            }), s          }        }        var a = "";        if ("string" == L(t)) i || 0 === i ? a = F(t) + ":" + H(t, i) : this.each(function()        {          this.style.removeProperty(F(t))        });        else          for (e in t) t[e] || 0 === t[e] ? a += F(e) + ":" + H(e, t[e]) + ";" : this.each(function()          {            this.style.removeProperty(F(e))          });        return this.each(function()        {          this.style.cssText += ";" + a        })      },      index: function(t)      {        return t ? this.indexOf(n(t)[0]) : this.parent().children().indexOf(this[0])      },      hasClass: function(t)      {        return t ? r.some.call(this, function(t)        {          return this.test(W(t))        }, q(t)) : !1      },      addClass: function(t)      {        return t ? this.each(function(e)        {          if ("className" in this)          {            i = [];            var r = W(this),              o = J(this, t, e, r);            o.split(/\s+/g).forEach(function(t)            {              n(this).hasClass(t) || i.push(t)            }, this), i.length && W(this, r + (r ? " " : "") + i.join(" "))          }        }) : this      },      removeClass: function(e)      {        return this.each(function(n)        {          if ("className" in this)          {            if (e === t) return W(this, "");            i = W(this), J(this, e, n, i).split(/\s+/g).forEach(function(t)            {              i = i.replace(q(t), " ")            }), W(this, i.trim())          }        })      },      toggleClass: function(e, i)      {        return e ? this.each(function(r)        {          var o = n(this),            s = J(this, e, r, W(this));          s.split(/\s+/g).forEach(function(e)          {            (i === t ? !o.hasClass(e) : i) ? o.addClass(e): o.removeClass(e)          })        }) : this      },      scrollTop: function(e)      {        if (this.length)        {          var n = "scrollTop" in this[0];          return e === t ? n ? this[0].scrollTop : this[0].pageYOffset : this.each(n ? function()          {            this.scrollTop = e          } : function()          {            this.scrollTo(this.scrollX, e)          })        }      },      scrollLeft: function(e)      {        if (this.length)        {          var n = "scrollLeft" in this[0];          return e === t ? n ? this[0].scrollLeft : this[0].pageXOffset : this.each(n ? function()          {            this.scrollLeft = e          } : function()          {            this.scrollTo(e, this.scrollY)          })        }      },      position: function()      {        if (this.length)        {          var t = this[0],            e = this.offsetParent(),            i = this.offset(),            r = d.test(e[0].nodeName) ?            {              top: 0,              left: 0            } : e.offset();          return i.top -= parseFloat(n(t).css("margin-top")) || 0, i.left -= parseFloat(n(t).css("margin-left")) || 0, r.top += parseFloat(n(e[0]).css("border-top-width")) || 0, r.left += parseFloat(n(e[0]).css("border-left-width")) || 0,          {            top: i.top - r.top,            left: i.left - r.left          }        }      },      offsetParent: function()      {        return this.map(function()        {          for (var t = this.offsetParent || a.body; t && !d.test(t.nodeName) && "static" == n(t).css("position");) t = t.offsetParent;          return t        })      }    }, n.fn.detach = n.fn.remove, ["width", "height"].forEach(function(e)    {      var i = e.replace(/./, function(t)      {        return t[0].toUpperCase()      });      n.fn[e] = function(r)      {        var o, s = this[0];        return r === t ? _(s) ? s["inner" + i] : $(s) ? s.documentElement["scroll" + i] : (o = this.offset()) && o[e] : this.each(function(t)        {          s = n(this), s.css(e, J(this, r, t, s[e]()))        })      }    }), v.forEach(function(t, e)    {      var i = e % 2;      n.fn[t] = function()      {        var t, o, r = n.map(arguments, function(e)          {            return t = L(e), "object" == t || "array" == t || null == e ? e : T.fragment(e)          }),          s = this.length > 1;        return r.length < 1 ? this : this.each(function(t, u)        {          o = i ? u : u.parentNode, u = 0 == e ? u.nextSibling : 1 == e ? u.firstChild : 2 == e ? u : null;          var f = n.contains(a.documentElement, o);          r.forEach(function(t)          {            if (s) t = t.cloneNode(!0);            else if (!o) return n(t).remove();            o.insertBefore(t, u), f && G(t, function(t)            {              null == t.nodeName || "SCRIPT" !== t.nodeName.toUpperCase() || t.type && "text/javascript" !== t.type || t.src || window.eval.call(window, t.innerHTML)            })          })        })      }, n.fn[i ? t + "To" : "insert" + (e ? "Before" : "After")] = function(e)      {        return n(e)[t](this), this      }    }), T.Z.prototype = n.fn, T.uniq = N, T.deserializeValue = Y, n.zepto = T, n  }();window.Zepto = Zepto, void 0 === window.$ && (window.$ = Zepto),  function(t)  {    function l(t)    {      return t._zid || (t._zid = e++)    }    function h(t, e, n, i)    {      if (e = p(e), e.ns) var r = d(e.ns);      return (s[l(t)] || []).filter(function(t)      {        return !(!t || e.e && t.e != e.e || e.ns && !r.test(t.ns) || n && l(t.fn) !== l(n) || i && t.sel != i)      })    }    function p(t)    {      var e = ("" + t).split(".");      return {        e: e[0],        ns: e.slice(1).sort().join(" ")      }    }    function d(t)    {      return new RegExp("(?:^| )" + t.replace(" ", " .* ?") + "(?: |$)")    }    function m(t, e)    {      return t.del && !u && t.e in f || !!e    }    function g(t)    {      return c[t] || u && f[t] || t    }    function v(e, i, r, o, a, u, f)    {      var h = l(e),        d = s[h] || (s[h] = []);      i.split(/\s/).forEach(function(i)      {        if ("ready" == i) return t(document).ready(r);        var s = p(i);        s.fn = r, s.sel = a, s.e in c && (r = function(e)        {          var n = e.relatedTarget;          return !n || n !== this && !t.contains(this, n) ? s.fn.apply(this, arguments) : void 0        }), s.del = u;        var l = u || r;        s.proxy = function(t)        {          if (t = j(t), !t.isImmediatePropagationStopped())          {            t.data = o;            var i = l.apply(e, t._args == n ? [t] : [t].concat(t._args));            return i === !1 && (t.preventDefault(), t.stopPropagation()), i          }        }, s.i = d.length, d.push(s), "addEventListener" in e && e.addEventListener(g(s.e), s.proxy, m(s, f))      })    }    function y(t, e, n, i, r)    {      var o = l(t);      (e || "").split(/\s/).forEach(function(e)      {        h(t, e, n, i).forEach(function(e)        {          delete s[o][e.i], "removeEventListener" in t && t.removeEventListener(g(e.e), e.proxy, m(e, r))        })      })    }    function j(e, i)    {      return (i || !e.isDefaultPrevented) && (i || (i = e), t.each(E, function(t, n)      {        var r = i[t];        e[t] = function()        {          return this[n] = x, r && r.apply(i, arguments)        }, e[n] = b      }), (i.defaultPrevented !== n ? i.defaultPrevented : "returnValue" in i ? i.returnValue === !1 : i.getPreventDefault && i.getPreventDefault()) && (e.isDefaultPrevented = x)), e    }    function S(t)    {      var e, i = {        originalEvent: t      };      for (e in t) w.test(e) || t[e] === n || (i[e] = t[e]);      return j(i, t)    }    var n, e = 1,      i = Array.prototype.slice,      r = t.isFunction,      o = function(t)      {        return "string" == typeof t      },      s = {},      a = {},      u = "onfocusin" in window,      f = {        focus: "focusin",        blur: "focusout"      },      c = {        mouseenter: "mouseover",        mouseleave: "mouseout"      };    a.click = a.mousedown = a.mouseup = a.mousemove = "MouseEvents", t.event = {      add: v,      remove: y    }, t.proxy = function(e, n)    {      var s = 2 in arguments && i.call(arguments, 2);      if (r(e))      {        var a = function()        {          return e.apply(n, s ? s.concat(i.call(arguments)) : arguments)        };        return a._zid = l(e), a      }      if (o(n)) return s ? (s.unshift(e[n], e), t.proxy.apply(null, s)) : t.proxy(e[n], e);      throw new TypeError("expected function")    }, t.fn.bind = function(t, e, n)    {      return this.on(t, e, n)    }, t.fn.unbind = function(t, e)    {      return this.off(t, e)    }, t.fn.one = function(t, e, n, i)    {      return this.on(t, e, n, i, 1)    };    var x = function()      {        return !0      },      b = function()      {        return !1      },      w = /^([A-Z]|returnValue$|layer[XY]$)/,      E = {        preventDefault: "isDefaultPrevented",        stopImmediatePropagation: "isImmediatePropagationStopped",        stopPropagation: "isPropagationStopped"      };    t.fn.delegate = function(t, e, n)    {      return this.on(e, t, n)    }, t.fn.undelegate = function(t, e, n)    {      return this.off(e, t, n)    }, t.fn.live = function(e, n)    {      return t(document.body).delegate(this.selector, e, n), this    }, t.fn.die = function(e, n)    {      return t(document.body).undelegate(this.selector, e, n), this    }, t.fn.on = function(e, s, a, u, f)    {      var c, l, h = this;      return e && !o(e) ? (t.each(e, function(t, e)      {        h.on(t, s, a, e, f)      }), h) : (o(s) || r(u) || u === !1 || (u = a, a = s, s = n), (r(a) || a === !1) && (u = a, a = n), u === !1 && (u = b), h.each(function(n, r)      {        f && (c = function(t)        {          return y(r, t.type, u), u.apply(this, arguments)        }), s && (l = function(e)        {          var n, o = t(e.target).closest(s, r).get(0);          return o && o !== r ? (n = t.extend(S(e),          {            currentTarget: o,            liveFired: r          }), (c || u).apply(o, [n].concat(i.call(arguments, 1)))) : void 0        }), v(r, e, u, a, s, l || c)      }))    }, t.fn.off = function(e, i, s)    {      var a = this;      return e && !o(e) ? (t.each(e, function(t, e)      {        a.off(t, i, e)      }), a) : (o(i) || r(s) || s === !1 || (s = i, i = n), s === !1 && (s = b), a.each(function()      {        y(this, e, s, i)      }))    }, t.fn.trigger = function(e, n)    {      return e = o(e) || t.isPlainObject(e) ? t.Event(e) : j(e), e._args = n, this.each(function()      {        e.type in f && "function" == typeof this[e.type] ? this[e.type]() : "dispatchEvent" in this ? this.dispatchEvent(e) : t(this).triggerHandler(e, n)      })    }, t.fn.triggerHandler = function(e, n)    {      var i, r;      return this.each(function(s, a)      {        i = S(o(e) ? t.Event(e) : e), i._args = n, i.target = a, t.each(h(a, e.type || e), function(t, e)        {          return r = e.proxy(i), i.isImmediatePropagationStopped() ? !1 : void 0        })      }), r    }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e)    {      t.fn[e] = function(t)      {        return 0 in arguments ? this.bind(e, t) : this.trigger(e)      }    }), t.Event = function(t, e)    {      o(t) || (e = t, t = e.type);      var n = document.createEvent(a[t] || "Events"),        i = !0;      if (e)        for (var r in e) "bubbles" == r ? i = !!e[r] : n[r] = e[r];      return n.initEvent(t, i, !0), j(n)    }  }(Zepto),  function(t)  {    function h(e, n, i)    {      var r = t.Event(n);      return t(e).trigger(r, i), !r.isDefaultPrevented()    }    function p(t, e, i, r)    {      return t.global ? h(e || n, i, r) : void 0    }    function d(e)    {      e.global && 0 === t.active++ && p(e, null, "ajaxStart")    }    function m(e)    {      e.global && !--t.active && p(e, null, "ajaxStop")    }    function g(t, e)    {      var n = e.context;      return e.beforeSend.call(n, t, e) === !1 || p(e, n, "ajaxBeforeSend", [t, e]) === !1 ? !1 : void p(e, n, "ajaxSend", [t, e])    }    function v(t, e, n, i)    {      var r = n.context,        o = "success";      n.success.call(r, t, o, e), i && i.resolveWith(r, [t, o, e]), p(n, r, "ajaxSuccess", [e, n, t]), x(o, e, n)    }    function y(t, e, n, i, r)    {      var o = i.context;      i.error.call(o, n, e, t), r && r.rejectWith(o, [n, e, t]), p(i, o, "ajaxError", [n, i, t || e]), x(e, n, i)    }    function x(t, e, n)    {      var i = n.context;      n.complete.call(i, e, t), p(n, i, "ajaxComplete", [e, n]), m(n)    }    function b()    {}    function w(t)    {      return t && (t = t.split(";", 2)[0]), t && (t == f ? "html" : t == u ? "json" : s.test(t) ? "script" : a.test(t) && "xml") || "text"    }    function E(t, e)    {      return "" == e ? t : (t + "&" + e).replace(/[&?]{1,2}/, "?")    }    function j(e)    {      e.processData && e.data && "string" != t.type(e.data) && (e.data = t.param(e.data, e.traditional)), !e.data || e.type && "GET" != e.type.toUpperCase() || (e.url = E(e.url, e.data), e.data = void 0)    }    function S(e, n, i, r)    {      return t.isFunction(n) && (r = i, i = n, n = void 0), t.isFunction(i) || (r = i, i = void 0),      {        url: e,        data: n,        success: i,        dataType: r      }    }    function C(e, n, i, r)    {      var o, s = t.isArray(n),        a = t.isPlainObject(n);      t.each(n, function(n, u)      {        o = t.type(u), r && (n = i ? r : r + "[" + (a || "object" == o || "array" == o ? n : "") + "]"), !r && s ? e.add(u.name, u.value) : "array" == o || !i && "object" == o ? C(e, u, i, n) : e.add(n, u)      })    }    var i, r, e = 0,      n = window.document,      o = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,      s = /^(?:text|application)\/javascript/i,      a = /^(?:text|application)\/xml/i,      u = "application/json",      f = "text/html",      c = /^\s*$/,      l = n.createElement("a");    l.href = window.location.href, t.active = 0, t.ajaxJSONP = function(i, r)    {      if (!("type" in i)) return t.ajax(i);      var f, h, o = i.jsonpCallback,        s = (t.isFunction(o) ? o() : o) || "jsonp" + ++e,        a = n.createElement("script"),        u = window[s],        c = function(e)        {          t(a).triggerHandler("error", e || "abort")        },        l = {          abort: c        };      return r && r.promise(l), t(a).on("load error", function(e, n)      {        clearTimeout(h), t(a).off().remove(), "error" != e.type && f ? v(f[0], l, i, r) : y(null, n || "error", l, i, r), window[s] = u, f && t.isFunction(u) && u(f[0]), u = f = void 0      }), g(l, i) === !1 ? (c("abort"), l) : (window[s] = function()      {        f = arguments      }, a.src = i.url.replace(/\?(.+)=\?/, "?$1=" + s), n.head.appendChild(a), i.timeout > 0 && (h = setTimeout(function()      {        c("timeout")      }, i.timeout)), l)    }, t.ajaxSettings = {      type: "GET",      beforeSend: b,      success: b,      error: b,      complete: b,      context: null,      global: !0,      xhr: function()      {        return new window.XMLHttpRequest      },      accepts:      {        script: "text/javascript, application/javascript, application/x-javascript",        json: u,        xml: "application/xml, text/xml",        html: f,        text: "text/plain"      },      crossDomain: !1,      timeout: 0,      processData: !0,      cache: !0    }, t.ajax = function(e)    {      var a, o = t.extend(        {}, e ||        {}),        s = t.Deferred && t.Deferred();      for (i in t.ajaxSettings) void 0 === o[i] && (o[i] = t.ajaxSettings[i]);      d(o), o.crossDomain || (a = n.createElement("a"), a.href = o.url, a.href = a.href, o.crossDomain = l.protocol + "//" + l.host != a.protocol + "//" + a.host), o.url || (o.url = window.location.toString()), j(o);      var u = o.dataType,        f = /\?.+=\?/.test(o.url);      if (f && (u = "jsonp"), o.cache !== !1 && (e && e.cache === !0 || "script" != u && "jsonp" != u) || (o.url = E(o.url, "_=" + Date.now())), "jsonp" == u) return f || (o.url = E(o.url, o.jsonp ? o.jsonp + "=?" : o.jsonp === !1 ? "" : "callback=?")), t.ajaxJSONP(o, s);      var C, h = o.accepts[u],        p = {},        m = function(t, e)        {          p[t.toLowerCase()] = [t, e]        },        x = /^([\w-]+:)\/\//.test(o.url) ? RegExp.$1 : window.location.protocol,        S = o.xhr(),        T = S.setRequestHeader;      if (s && s.promise(S), o.crossDomain || m("X-Requested-With", "XMLHttpRequest"), m("Accept", h || "*/*"), (h = o.mimeType || h) && (h.indexOf(",") > -1 && (h = h.split(",", 2)[0]), S.overrideMimeType && S.overrideMimeType(h)), (o.contentType || o.contentType !== !1 && o.data && "GET" != o.type.toUpperCase()) && m("Content-Type", o.contentType || "application/x-www-form-urlencoded"), o.headers)        for (r in o.headers) m(r, o.headers[r]);      if (S.setRequestHeader = m, S.onreadystatechange = function()        {          if (4 == S.readyState)          {            S.onreadystatechange = b, clearTimeout(C);            var e, n = !1;            if (S.status >= 200 && S.status < 300 || 304 == S.status || 0 == S.status && "file:" == x)            {              u = u || w(o.mimeType || S.getResponseHeader("content-type")), e = S.responseText;              try              {                "script" == u ? (1, eval)(e) : "xml" == u ? e = S.responseXML : "json" == u && (e = c.test(e) ? null : t.parseJSON(e))              }              catch (i)              {                n = i              }              n ? y(n, "parsererror", S, o, s) : v(e, S, o, s)            }            else y(S.statusText || null, S.status ? "error" : "abort", S, o, s)          }        }, g(S, o) === !1) return S.abort(), y(null, "abort", S, o, s), S;      if (o.xhrFields)        for (r in o.xhrFields) S[r] = o.xhrFields[r];      var N = "async" in o ? o.async : !0;      S.open(o.type, o.url, N, o.username, o.password);      for (r in p) T.apply(S, p[r]);      return o.timeout > 0 && (C = setTimeout(function()      {        S.onreadystatechange = b, S.abort(), y(null, "timeout", S, o, s)      }, o.timeout)), S.send(o.data ? o.data : null), S    }, t.get = function()    {      return t.ajax(S.apply(null, arguments))    }, t.post = function()    {      var e = S.apply(null, arguments);      return e.type = "POST", t.ajax(e)    }, t.getJSON = function()    {      var e = S.apply(null, arguments);      return e.dataType = "json", t.ajax(e)    }, t.fn.load = function(e, n, i)    {      if (!this.length) return this;      var a, r = this,        s = e.split(/\s/),        u = S(e, n, i),        f = u.success;      return s.length > 1 && (u.url = s[0], a = s[1]), u.success = function(e)      {        r.html(a ? t("<div>").html(e.replace(o, "")).find(a) : e), f && f.apply(r, arguments)      }, t.ajax(u), this    };    var T = encodeURIComponent;    t.param = function(e, n)    {      var i = [];      return i.add = function(e, n)      {        t.isFunction(n) && (n = n()), null == n && (n = ""), this.push(T(e) + "=" + T(n))      }, C(i, e, n), i.join("&").replace(/ /g, "+")    }  }(Zepto),  function(t)  {    t.fn.serializeArray = function()    {      var e, n, i = [],        r = function(t)        {          return t.forEach ? t.forEach(r) : void i.push(          {            name: e,            value: t          })        };      return this[0] && t.each(this[0].elements, function(i, o)      {        n = o.type, e = o.name, e && "fieldset" != o.nodeName.toLowerCase() && !o.disabled && "submit" != n && "reset" != n && "button" != n && "file" != n && ("radio" != n && "checkbox" != n || o.checked) && r(t(o).val())      }), i    }, t.fn.serialize = function()    {      var t = [];      return this.serializeArray().forEach(function(e)      {        t.push(encodeURIComponent(e.name) + "=" + encodeURIComponent(e.value))      }), t.join("&")    }, t.fn.submit = function(e)    {      if (0 in arguments) this.bind("submit", e);      else if (this.length)      {        var n = t.Event("submit");        this.eq(0).trigger(n), n.isDefaultPrevented() || this.get(0).submit()      }      return this    }  }(Zepto),  function(t)  {    "__proto__" in    {} || t.extend(t.zepto,    {      Z: function(e, n)      {        return e = e || [], t.extend(e, t.fn), e.selector = n || "", e.__Z = !0, e      },      isZ: function(e)      {        return "array" === t.type(e) && "__Z" in e      }    });    try    {      getComputedStyle(void 0)    }    catch (e)    {      var n = getComputedStyle;      window.getComputedStyle = function(t)      {        try        {          return n(t)        }        catch (e)        {          return null        }      }    }  }(Zepto);< /script>< script >  var QreatorBezier = new function()  {    function e(e, t, r)    {      Z[0] = [];      var i = new g(0, 0),        a = new g(0, 0);      if (e.length > 0)        for (var n = 0; D > n; n += e[e.length - 1])          for (var l = 0; l < e.length; l++)          {            var i = new g(n + e[l], 0),              a = new g(n + e[l], F),              s = [i, ye.addiere(i, ye.multipliziereMitSkalar(ye.subtrahiere(a, i), 1 / 3)), ye.addiere(i, ye.multipliziereMitSkalar(ye.subtrahiere(a, i), 2 / 3)), a];            Z[0].push([s, ye.findeRechtecksHuelle(s), 0, 2, r])          }      if (t.length > 0)        for (var h = 0; F > h; h += t[t.length - 1])          for (var l = 0; l < t.length; l++)          {            i = new g(0, h + t[l]), a = new g(D, h + t[l]);            var s = [i, ye.addiere(i, ye.multipliziereMitSkalar(ye.subtrahiere(a, i), 1 / 3)), ye.addiere(i, ye.multipliziereMitSkalar(ye.subtrahiere(a, i), 2 / 3)), a];            Z[0].push([s, ye.findeRechtecksHuelle(s), 0, 2, r])          }      d(M[z], 0, M.length - 1)    }    function t(e, t)    {      ee >= e && $("#ausgabe").append(t + "<br>")    }    function r(e, t)    {      m = 1;      for (var r = 0; t > r; r++) m *= 10;      return parseInt(e * m, 10) / m    }    function i(e, t)    {      if (0 === ne.length)      {        Q.beginPath(), Q.moveTo(e, t), W = e, V = t, H = [], Q.lineWidth = "" + N, Q.strokeStyle = E, Q.lineCap = "round";        for (var r = 0; C * q > r; r++) H[r] = 0      }      else      {        if (Q.lineTo(e, t), 1 === O)        {          Q.lineWidth = "" + N, Q.strokeStyle = "rgba(255,200,200,1)";          var i = e,            a = W;          e > W && (i = W, a = e);          var n = t,            l = V;          t > V && (n = V, l = t), i -= N, a = i + N, n -= N, l += N;          for (var s = parseInt(i / (1 * D / C), 10), h = parseInt(a / (1 * D / C), 10), o = parseInt(n / (1 * F / q), 10), u = parseInt(l / (1 * F / q), 10), r = s; h >= r; r++)            for (var f = o; u >= f; f++) H[f * C + r] = 1;          W = e, V = t        }        Q.stroke(), Q.beginPath(), Q.moveTo(e, t)      }      ne.push(new g(e, t))    }    function a(e)    {      if (te === !0)      {        var t = e.targetTouches[0].pageX - I.offsetLeft - $("#rahmen")[0].offsetLeft,          r = e.targetTouches[0].pageY - I.offsetTop - $("#rahmen")[0].offsetTop;        i(t, r)      }      n()    }    function n()    {      var e = M[z];      if (re === !0)      {        rechtecke2 = [];        for (var t = 0; C * q > t; t++) 1 === H[t] && rechtecke2.push(t);        if (B = ye.findeRechtecksHuelle(ne), 0 === O) p(ne), ne = [], re = !1;        else if (1 === O)          if (null != Z[e] && Z[e].length > 0)          {            if (K = [], rechtecke2.length < P)              for (var t = 0; t < Z[e].length; t++)              {                Z[e][t][2] = 0;                var r = Z[e][t][1];                o(B, r) === !0 && (Z[e][t][2] = 1, K.push(t))              }            else              for (var t = 0; t < Z[e].length; t++)              {                Z[e][t][2] = 0;                var r = Z[e][t][1];                h(r) === !0 && (K.push(t), Z[e][t][2] = 1)              }            for (var i = Q.getImageData(0, 0, D, F), t = K.length - 1; t >= 0; t--)            {              for (var r = Z[e][K[t]][0], a = Z[e][K[t]][3], n = Z[e][K[t]][4], u = s(r), f = 1 / u * 3, v = [], c = 0, y = 0, g = 0; 1 + f > g; g += f)              {                g > 1 && (g = 1);                var x = ye.evaluiere(3, r, g),                  k = 4 * (parseInt(x.y, 10) * D + parseInt(x.x, 10));                200 === i.data[k + 1] && (v.push(c), y++), c++              }              if (3 > c - y) Z[e].splice(K[t], 1);              else              {                for (var m = v.length - 2; m >= 0; m--) v[m + 1] - v[m] === 2 && v.splice(m + 1, 0, v[m] + 1);                for (var b = 0, $ = [], m = 0; m < v.length; m++)                  if (v[m] - b > 1)                  {                    var w = ye.zerlege(r, b * f, (v[m] - 1) * f);                    $.push(w), b = v[m]                  }                  else b = v[m];                if (v.length > 0 && v[v.length - 1] * f < 1)                {                  var w = ye.teile(r, v[v.length - 1] * f, 1)[1];                  $.push(w)                }                if ($.length > 0)                {                  Z[e].splice(K[t], 1);                  for (var u = 0; u < $.length; u++) Z[e].splice(K[t], 0, [$[u], ye.findeRechtecksHuelle($[u]), 1, a, n])                }              }            }            ne = [];            for (var S = Q.createImageData(D, F), t = 0; t < S.length; t += 4) S[t] = 255, S[t + 1] = 255, S[t + 2] = 255, S[t + 3] = 0;            Q.putImageData(S, 0, 0), l(), re = !1, d(z, 0, z)          }          else          {            ne = [];            for (var S = Q.createImageData(D, F), t = 0; t < S.length; t += 4) S[t] = 255, S[t + 1] = 255, S[t + 2] = 255, S[t + 3] = 0;            Q.putImageData(S, 0, 0), re = !1          }      }    }    function l()    {      for (var e = X.createImageData(D, F), t = 0; t < e.length; t += 4) e[t] = 255, e[t + 1] = 255, e[t + 2] = 255, e[t + 3] = 0;      if (X.save(), rechtecke2.length < P) X.beginPath(), X.moveTo(B[0], B[1]), X.lineTo(B[2], B[1]), X.lineTo(B[2], B[3]), X.lineTo(B[0], B[3]), X.lineTo(B[0], B[1]), X.clip(), X.putImageData(e, 0, 0, B[0], B[1], B[2] - B[0], B[3] - B[1]);      else      {        X.beginPath();        for (var r = D / C, i = F / q, t = 0; t < rechtecke2.length; t++)        {          var a = parseInt(rechtecke2[t] % C, 10),            n = parseInt(rechtecke2[t] / C, 10),            l = a * r,            s = n * i;          X.moveTo(l, s), X.lineTo(l + r, s), X.lineTo(l + r, s + i), X.lineTo(l, s + i), X.lineTo(l, s), X.putImageData(e, l, s, 0, 0, r, i)        }        X.clip()      }      for (var h = M[z], t = 0; t < Z[h].length; t++)      {        var o = Z[h][t];        if (1 == o[2])        {          var u = o[0];          X.beginPath(), X.moveTo(u[0].x, u[0].y), X.bezierCurveTo(u[1].x, u[1].y, u[2].x, u[2].y, u[3].x, u[3].y), X.strokeStyle = Z[h][4], X.lineWidth = Z[h][3], X.stroke()        }      }      X.restore()    }    function s(e)    {      for (var t = 0, r = e[0].x, i = e[0].y, a = 1; a < e.length; a++) t += Math.sqrt((e[a].x - r) * (e[a].x - r) + (e[a].y - i) * (e[a].y - i));      return t    }    function h(e)    {      for (var t = !1, r = D / C, i = F / q, a = 0; a < rechtecke2.length; a++) x = parseInt(rechtecke2[a] % q, 10), y = parseInt(rechtecke2[a] / C, 10), o(e, [x * r, y * i, x * r + r, y * i + i]) === !0 && (t = !0, a = rechtecke2.length);      return t    }    function o(e, t)    {      return !(e[0] > t[2] || e[2] < t[0] || e[1] > t[3] || e[3] < t[1])    }    function u(e)    {      if (te === !0)      {        var t = e.pageX - I.offsetLeft - $("#rahmen")[0].offsetLeft,          r = e.pageY - I.offsetTop - $("#rahmen")[0].offsetTop;        i(t, r)      }      n()    }    function f(e, t, r)    {      if (t.x === r.x) return Math.abs(e.x - t.x);      var i = new g(r.x - t.x, r.y - t.y),        a = new g(e.x - t.x, e.y - t.y),        n = Math.sqrt(i.x * i.x + i.y * i.y),        l = (a.x * i.x + a.y * i.y) / n;      if (l > n)      {        var s = new g(r.x - e.x, r.y - e.y);        return Math.sqrt(s.x * s.x + s.y * s.y)      }      if (0 > l)      {        var s = new g(e.x - t.x, e.y - t.y);        return Math.sqrt(s.x * s.x + s.y * s.y)      }      var s = new g(t.x + l * i.x / n, t.y + l * i.y / n),        h = new g(s.x - e.x, s.y - e.y);      return Math.sqrt(h.x * h.x + h.y * h.y)    }    function v(e, t)    {      for (var r = 0, i = !0, a = 1; a < e.length - 1; a++)      {        var n = f(e[a], e[0], e[e.length - 1]);        n > r && (r = n, r > t && (i = !1, a = e.length))      }      return i    }    function c(e)    {      var t = 0,        r = 0,        i = 0,        a = 0;      t = e[0].x, r = t, i = e[0].y, a = i;      for (var n = 1; n < e.length; n++)      {        var l = e[n];        l.x > r ? r = l.x : l.x < t && (t = l.x), l.y > a ? a = l.y : l.y < i && (i = l.y)      }      return [t, i, r, a]    }    function p(e)    {      if (1 === e.length)      {        var r = e[0].x,          i = e[0].y;        e = [], e.push(new g(r - 1, i - 1)), e.push(new g(r + 1, i - 1)), e.push(new g(r + 1, i + 1)), e.push(new g(r - 1, i + 1))      }      var a = !1,        n = ye.berechneEntfernung(e[0], e[e.length - 1]);      if (15 > n)      {        var l = c(e),          s = l[0],          h = l[2],          o = l[1],          u = l[3],          f = 1 * (h - s) / (u - o);        if (1.5 > f && f > .8)        {          for (var p = .5 * (s + h), d = .5 * (o + u), y = .25 * (h - s + (u - o)), x = new g(p, d), k = !0, m = 0; m < e.length; m++)          {            var b = ye.berechneEntfernung(x, e[m]);            1.3 * y > b && b > .8 * y || (k = !1, m = e.length)          }          if (k === !0)          {            var $ = .551915024494;            S = [], S.push([new g(x.x, x.y + y), new g(x.x + $ * y, x.y + y), new g(x.x + y, x.y + y * $), new g(x.x + y, x.y)]), S.push([new g(x.x + y, x.y), new g(x.x + y, x.y - $ * y), new g(x.x + $ * y, x.y - y), new g(x.x, x.y - y)]), S.push([new g(x.x, x.y - y), new g(x.x - $ * y, x.y - y), new g(x.x - y, x.y - y * $), new g(x.x - y, x.y)]), S.push([new g(x.x - y, x.y), new g(x.x - y, x.y + $ * y), new g(x.x - $ * y, x.y + y), new g(x.x, x.y + y)]), a = !0          }        }      }      if (a === !1)      {        var w = parseInt(n / 20, 10),          S = [];        if (v(e, w) === !0)        {          var I = e[0],            C = e[e.length - 1],            q = C.x - I.x,            A = C.y - I.y;          if (0 !== A)          {            var _ = 1 * A / q;            if (Math.abs(_) < T)            {              var R = (I.y + C.y) / 2;              I.y = R, C.y = R            }          }          else if (0 !== q)          {            var _ = 1 * q / A;            if (Math.abs(_) < T)            {              var R = (I.x + C.x) / 2;              I.x = R, C.x = R            }          }          S = [            [I, ye.addiere(I, ye.multipliziereMitSkalar(ye.subtrahiere(C, I), 1 / 3)), ye.addiere(I, ye.multipliziereMitSkalar(ye.subtrahiere(C, I), 2 / 3)), C]          ], a = !0        }      }      if (a === !1 && (ye.initialisiere(e, G), S = ye.approximiere()), e.length > 0)      {        for (var P = Q.createImageData(D, F), m = 0; m < P.length; m += 4) P[m] = 255, P[m + 1] = 255, P[m + 2] = 255, P[m + 3] = 0;        Q.putImageData(P, 0, 0)      }      for (var m = 0; m < S.length; m++)      {        var H = S[m];        1 === H.length ? (X.beginPath(), X.fillStyle = E, X.fillRect(H[0].x, H[0].y, 1, 1)) : 4 === H.length && (X.beginPath(), X.moveTo(H[0].x, H[0].y), X.strokeStyle = E, X.lineCap = "round", X.lineWidth = "" + N, X.bezierCurveTo(H[1].x, H[1].y, H[2].x, H[2].y, H[3].x, H[3].y), t(3, H[0].x + "/" + H[0].y + "," + H[1].x + "/" + H[1].y + "," + H[2].x + "/" + H[2].y + "," + H[3].x + "/" + H[3].y), X.stroke(), Z[M[z]].push([H, ye.findeRechtecksHuelle(H), 0, N, E]))      }      if (ee > 2)        for (var m = 0; m < e.length; m++)        {          var r = e[m].x,            i = e[m].y;          Q.fillStyle = "#ff0000", Q.fillRect(r - 2, i - 2, 5, 5)        }    }    function d(e, t, r)    {      for (var i = Q.createImageData(D, F), a = 0; a < i.length; a += 4) i[a] = 255, i[a + 1] = 255, i[a + 2] = 255, i[a + 3] = 0;      Q.putImageData(i, 0, 0), e >= t && X.putImageData(i, 0, 0), r > e && Y.putImageData(i, 0, 0);      for (var a = t; r >= a; a++)      {        var n = X;        a > e && (n = Y);        var l = M[a];        if (1 == S[a] && null != Z[l])          for (var s = 0; s < Z[l].length; s++)          {            var h = Z[l][s][0];            n.beginPath(), n.moveTo(h[0].x, h[0].y), n.strokeStyle = Z[l][s][4], n.lineCap = "round", n.lineWidth = "" + Z[l][s][3], n.bezierCurveTo(h[1].x, h[1].y, h[2].x, h[2].y, h[3].x, h[3].y), n.stroke()          }      }    }    function g(e, t)    {      this.x = e, this.y = t    }    for (var k, b, w, z, S, M, I, D, F, T, C, q, A, _, R, E, P, H, K, N, G, z, L, B, W, V, O, Q, X, Y, Z, j, J, U, ee, te, re, ie, ae, ne, le, se, he, oe, ue, fe, k = ["#000000", "#FF0000", "#0000FF", "#ffff00", "#008000", "#FFA500", "#A52A2A", "#800000", "#808000", "#808080", "#cccccc", "#FFFFFF", "#0000A0", "#ADD8E6", "#800080", "#00FF00", "#00FFFF", "#FF00FF"], b = "<div class='auswahl'>", ve = 0; ve < k.length; ve++)    {      var ce = "<button class='farbe' farbe='" + k[ve] + "' style='background: " + k[ve] + ";' value='Farbe' nr='" + ve + "'><span style='color: " + k[ve] + "'>PP</span></button>";      b += ce    }    var w = [2, 2.5, 3, 3.5, 4, 6, 8, 10, 12, 14, 16, 18, 20, 30, 40, 50];    b += "</div><div class='auswahl'>";    for (var ve = 0; ve < w.length; ve++) b += "<button class='dicke' dicke='" + w[ve] + "'  value='D" + w[ve] + "' nr='" + ve + "'>" + w[ve] + "</button> ";    var pe = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],      S = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],      M = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];    b += "</div><div class='auswahl''>";    for (var ve = 0; ve < pe.length; ve++) b += "<button class='layer' layer='" + pe[ve] + "' >" + pe[ve] + "</button><input type='checkbox' name='layer' id='checkbox_" + ve + "' value='" + ve + "' class='check' checked='checked'></input>";    b += "</div>";    var de = this;    this.init = function(t, r, i, n)    {      function l()      {        0 == O ? ($(".dicke").removeClass("aktiv"), $("[dicke='" + w[R] + "']").addClass("aktiv"), $(".layer").removeClass("aktiv"), $("[layer='" + M[z] + "']").addClass("aktiv"), $(".farbe").removeClass("aktiv"), $("[farbe='" + k[ue] + "']").addClass("aktiv"), $("#radierer").removeClass("aktiv"), $("#stift").addClass("aktiv")) : ($(".dicke").removeClass("aktiv"), $("[dicke='" + w[oe] + "']").addClass("aktiv"), $(".layer").removeClass("aktiv"), $("[layer='" + M[z] + "']").addClass("aktiv"), $(".farbe").removeClass("aktiv"), $("#radierer").addClass("aktiv"), $("#stift").removeClass("aktiv"))      }      D = r, F = i, he = t, fe = n, $(t).html("<div id='rahmen' style='position: relative;'> <canvas id='layer1' width='" + D + "' height='" + F + "' style='z-index: 0;'></canvas> <canvas id='layer2'  width='" + D + "' height='" + F + "' style='position: absolute; left: 0; top: 0; z-index: 1;'></canvas><canvas id='layer3' width='" + D + "' height='" + F + "' style='position: absolute; left: 0; top: 0; z-index: 2;'></canvas> </div>"), $(n).html(b + "<div id='knoepfe'> <input type='button' class='holen knopf' b='Stift' id='stift' value='Stift'/><input type='button' class='holen knopf' b='Radierer' id='radierer' value='Radierer'/><input type='button' class='holen knopf' b='Raster Ã¤ndern' id='raster' value='Raster' /><input type='button' class='holen knopf' b='Alles lÃ¶schen' id='loeschen' value='Alles lÃ¶schen' /><input type='button' class='holen knopf' b='Aktive Ebene lÃ¶schen' id='loeschenAktiv' value='Aktive Ebene lÃ¶schen' /></div><div id='ausgabe'></div><div id='info' ></div>"), $(t).append("<div id='qreator_svgbild'></div>"), Q = $("#layer2")[0].getContext("2d"), Q.strokeStyle = "#ff0000", I = $("#layer3")[0], T = .01, C = 5, q = 5, A = [        [          [],          [], ""        ],        [          [30],          [30], "#aaaaff"        ],        [          [],          [60], "#aaaaff"        ],        [          [],          [60, 74, 88, 102, 116], "#000000"        ]      ], _ = 0, R = 2.5, E = "#000000", P = 2, H = [], rechtecke2 = [], K = [], N = 2.5, oe = 13, R = 1, ue = 0, G = 1.3, z = 2, L = 1, B = [], W = 0, V = 0, O = 0, X = $("#layer1")[0].getContext("2d"), Y = $("#layer3")[0].getContext("2d"), Z = [];      for (var s = 0; s < M.length; s++) Z[s] = [];      j = !1, J = !1, U = !1, ee = 0, te = !1, re = !1, ie = [], ae = [], ne = [], le = 0, se = 0, I.ontouchstart = function(e)      {        e.preventDefault(), ne = [], te = !0, U = !0, J = !1, a(e)      }, I.ontouchmove = function(e)      {        e.preventDefault(), U === !0 && 1 == te && a(e)      }, I.ontouchend = function(e)      {        e.preventDefault(), U === !0 && (re = !0, te = !1, U = !1, a(e))      }, I.onmousedown = function(e)      {        e.preventDefault(), ne = [], te = !0, J = !0, U = !1, u(e)      }, I.onmousemove = function(e)      {        e.preventDefault(), J === !0 && u(e)      }, I.onmouseup = function(e)      {        e.preventDefault(), J === !0 && (re = !0, te = !1, J = !1, u(e))      }, $("#tbutton").click(function(e)      {        e.preventDefault();        var t = $("#svgText").val();        de.loadSVG(t)      }), $("#download").click(function(e)      {        e.preventDefault();        var t = $("html").html();        window.open("data:text/csv," + t)      }), $(".farbe").click(function(e)      {        e.preventDefault(), E = $(this).attr("farbe"), ue = parseInt($(this).attr("nr")), O = 0, N = w[R], l()      }), $(".dicke").click(function(e)      {        e.preventDefault(), 0 == O ? R = parseInt($(this).attr("nr")) : oe = parseInt($(this).attr("nr")), N = parseInt($(this).attr("dicke")), l()      }), $(".layer").click(function(e)      {        e.preventDefault();        var t = parseInt($(this).attr("layer"));        1 == S[t] && (z = t, null == Z[z] && (Z[z] = []), d(M[z], 0, M.length - 1)), l()      }), $(".check").click(function()      {        var e = 0;        1 == $(this).prop("checked") && (e = 1), S[parseInt($(this).attr("value"))] = e, d(M[z], 0, M.length - 1), l()      }), $("#radierer").click(function(e)      {        e.preventDefault(), O = 1, N = w[oe], l()      }), $("#stift").click(function()      {        N = w[R], O = 0, l()      }), $("#raster").click(function(t)      {        t.preventDefault(), _ = (_ + 1) % 4, e(A[_][0], A[_][1], A[_][2])      }), $("#loeschenAktiv").click(function(e)      {        e.preventDefault();        for (var t = X.createImageData(D, F), r = 0; r < t.length; r += 4) t[r] = 255, t[r + 1] = 255, t[r + 2] = 255, t[r + 3] = 0;        X.putImageData(t, 0, 0), Z[M[z]] = [], d(z, 0, z)      }), $("#loeschen").click(function(e)      {        e.preventDefault();        for (var t = X.createImageData(D, F), r = 0; r < t.length; r += 4) t[r] = 255, t[r + 1] = 255, t[r + 2] = 255, t[r + 3] = 0;        X.putImageData(t, 0, 0), Y.putImageData(t, 0, 0);        for (var r = 0; r < M.length; r++) Z[r] = []      }), $("#knopf").click(function(e)      {        e.preventDefault(), QreatorBezier.showSVG()      }), l()    }, this.showSVG = function(e)    {      var t = "",        i = 0;      $("#qreator_svgbild").html("<svg  width='" + D + "' height='" + F + "' id='qreator_svgbild2' class='qreator_svg'><g fill='none' stroke-linecap='round' id='global'></g>");      for (var a = 0; a < M.length; a++)      {        var n = M[a];        if (null != Z[n] && Z[n].length > 0)        {          var l = "";          0 == S[a] && (l = "visibility='hidden'"), $("#qreator_svgbild2 #global").append("<g id='layer_" + n + "' " + l + "></g>");          for (var s = "", h = Z[n][0][0][3], o = "", u = "", f = "", v = "", c = "<path d='", p = 0; p < Z[n].length; p++)          {            var d = Z[n][p][0],              y = Z[n][p][4],              g = Z[n][p][3];            (y != o || g != u) && (f = " stroke='" + y + "'", o = y, f += " stroke-width='" + g + "'", u = g), f.length > 0 && (s.length > 0 && (t += c + s + "' " + v + " />", h = {              x: -1,              y: -1            }, s = ""), v = f, f = ""), s += p > 0 && d[0].x === h.x && d[0].y === h.y ? " c " + r(d[1].x - d[0].x, L) + " " + r(d[1].y - d[0].y, L) + " " + r(d[2].x - d[0].x, L) + " " + r(d[2].y - d[0].y, L) + " " + r(d[3].x - d[0].x, L) + " " + r(d[3].y - d[0].y, L) : " M " + r(d[0].x, L) + " " + r(d[0].y, L) + " c " + r(d[1].x - d[0].x, L) + " " + r(d[1].y - d[0].y, L) + " " + r(d[2].x - d[0].x, L) + " " + r(d[2].y - d[0].y, L) + " " + r(d[3].x - d[0].x, L) + " " + r(d[3].y - d[0].y, L), h = Z[n][p][0][3], s.length > 2e3 && (t += "<path d='" + s + "' " + v + " />", o = "", y = "", h = {              x: -1,              y: -1            }, s = "", t.length > 1e4 && ($("#qreator_svgbild2 #global #layer_" + n).append(t), i += t.length, t = ""), o = "", u = "")          }          s.length > 0 && (t += "<path d='" + s + "' " + v + " />"), t.length > 0 && ($("#qreator_svgbild2 #global #layer_" + n).append(t), i += t.length, t = "")        }      }      $("#qreator_svgbild #qreator_svgbild2").removeAttr("id"), $(he).html("<div class='" + e + "' >" + $("#qreator_svgbild").html() + "</div>"), $(fe).html("")    }, this.loadSVG = function(e)    {      for (var t = 0, r = 0; r < S.length; r++) S[r] = 1;      $(e).find("#global").find("g").each(function()      {        var e = parseInt($(this).attr("id").split("_")[1]);        Z[e] = [], t++, "hidden" == $(this).attr("visibility") && (S[e] = 0), $(this).find("path").each(function()        {          for (var t = $(this).attr("stroke"), r = parseInt($(this).attr("stroke-width")), i = $(this).attr("d"), a = i.trim(), n = a.split("M"), l = 0; l < n.length; l++)            if ("" != n[l])            {              for (var s = n[l].split("c"), h = s[0].split(" "), o = [], u = 0; u < h.length; u++) "" != h[u] && o.push(h[u]);              var f = [],                v = new g(parseFloat(o[0]), parseFloat(o[1]));              f.push(v);              for (var c = 1; c < s.length; c++)              {                for (var p = s[c].split(" "), d = [], u = 0; u < p.length; u++) "" != p[u] && d.push(p[u]);                if (d.length >= 6)                  for (var y = 0; 6 > y; y += 2) v = new g(parseFloat(d[y]) + f[0].x, parseFloat(d[y + 1]) + f[0].y), f.push(v);                Z[e].push([f, ye.findeRechtecksHuelle(f), 0, r, t]), 4 == f.length && (v = new g(f[3].x, f[3].y), f = [], f.push(v))              }            }        })      });      var i = [],        a = [];      10 > t && (t = 10);      for (var r = 0; t > r; r++) i[r] = r, a[r] = r, null == S[r] && (S[r] = 1);      for (var r = 0; r < S.length; r++) $("#checkbox_" + r).prop("checked", S[r]);      d(a[z], 0, t - 1)    };    var ye = {      initialisiere: function(e, t)      {        this.ergebnis = [], this.epsilon = 1e-6, this.TOLERANZ = 1e-7;        var r = null;        this.fehler = t, this.punkte = [];        for (var i = 0; i < e.length; i++)        {          var a = e[i];          r && a.x == r.x && a.y == r.y || (this.punkte.push(a), r = a)        }        this.fehler = t      },      findeRechtecksHuelle: function(e)      {        for (var t = e[0].x, r = t, i = e[0].y, a = i, n = 1; n < e.length; n++) t > e[n].x ? t = e[n].x : r < e[n].x && (r = e[n].x), i > e[n].y ? i = e[n].y : a < e[n].y && (a = e[n].y);        return [t - N, i - N, r + N, a + N]      },      findeKonvexeHuelle: function(e)      {        function t(e, t)        {          var r = e.x - t.x,            i = e.y - t.y;          return r * r + i * i        }        function r(e, r, i)        {          var a = (r.x - e.x) * (i.y - e.y) - (i.x - e.x) * (r.y - e.y);          return a > 0 ? !0 : 0 > a ? !1 : t(e, i) > t(e, r)        }        for (var i = e.length, a = [], n = 0, l = 1; l != i; l++) e[l].y < e[n].y && (n = l);        var s = e[n],          h = null;        do {          a.push(s), h = e[0];          for (var l = 1; l != i; l++)(s.x === h.x && s.y === h.y || r(s, h, e[l])) && (h = e[l]);          s = h        } while (h.x !== a[0].x || h.y !== a[0].y);        return a      },      parametrisiereKurve: function(e, t)      {        for (var r = [0], i = e + 1; t >= i; i++) r[i - e] = r[i - e - 1] + this.berechneEntfernungIndex(i, i - 1);        for (var a = r[r.length - 1], n = 0; n < r.length; n++) r[n] /= a;        return r      },      berechneEntfernungIndex: function(e, t)      {        var r = this.punkte[e].x - this.punkte[t].x,          i = this.punkte[e].y - this.punkte[t].y;        return Math.sqrt(r * r + i * i)      },      berechneEntfernung: function(e, t)      {        var r = e.x - t.x,          i = e.y - t.y;        return Math.sqrt(r * r + i * i)      },      normiere: function(e)      {        var t = Math.sqrt(e.x * e.x + e.y * e.y);        return 0 !== t && (e.x = e.x / t, e.y = e.y / t), e      },      multipliziereSkalar: function(e, t)      {        return e.x * t.x + e.y * t.y      },      multipliziereMitSkalar: function(e, t)      {        return {          x: e.x * t,          y: e.y * t        }      },      addiere: function(e, t)      {        return {          x: e.x + t.x,          y: e.y + t.y        }      },      subtrahiere: function(e, t)      {        return {          x: e.x - t.x,          y: e.y - t.y        }      },      approximiere: function()      {        var e = this.punkte,          r = e.length;        return this.ergebnis = r > 0 ? [          [e[0]]        ] : [], r > 1 && (t(2, "Anzahl der Punkte: " + r), this.approximiereKubisch(0, r - 1, this.normiere(this.subtrahiere(e[1], e[0])), this.normiere(this.subtrahiere(e[r - 2], e[r - 1])))), this.ergebnis      },      approximiereKubisch: function(e, r, i, a)      {        if (r - e === 1)        {          var n = this.punkte[e],            l = this.punkte[r],            s = this.berechneEntfernung(n, l) / 3;          return void this.ergebnis.push([n, this.addiere(n, this.multipliziereMitSkalar(this.normiere(i), s)), this.addiere(l, this.multipliziereMitSkalar(this.normiere(a), s)), l])        }        for (var h, o = this.parametrisiereKurve(e, r), u = Math.max(this.fehler, this.fehler * this.fehler), f = 0; 4 >= f; f++)        {          var v = this.findeBezierNaeherung(e, r, o, i, a),            c = [];          c.push(v);          var p = this.findeGroesstenFehler(e, r, v, o);          if (p.error < this.fehler) return void this.ergebnis.push(v);          if (h = p.index, p.error >= u)          {            t(3, "Maximaler Fehler: " + u + ", gemessener Fehler: " + p.error);            break          }          o = this.reparametrisiere(e, r, o, v), u = p.error        }        var d = this.subtrahiere(this.punkte[h - 1], this.punkte[h]),          y = this.subtrahiere(this.punkte[h], this.punkte[h + 1]),          g = this.normiere(this.multipliziereMitSkalar(this.addiere(d, y), .5));        this.approximiereKubisch(e, h, i, g), this.approximiereKubisch(h, r, this.multipliziereMitSkalar(g, -1), a)      },      findeBezierNaeherung: function(e, r, i, a, n)      {        t(3, "findeBezierNÃ¤herung: " + e + " " + r);        for (var l = this.epsilon, s = this.punkte[e], h = this.punkte[r], o = [            [0, 0],            [0, 0]          ], u = [0, 0], f = r - e + 1, v = 0; f > v; v++)        {          var c = i[v],            p = 1 - c,            d = 3 * c * p,            y = p * p * p,            g = d * p,            x = d * c,            k = c * c * c,            m = this.multipliziereMitSkalar(this.normiere(a), g),            b = this.multipliziereMitSkalar(this.normiere(n), x),            $ = this.subtrahiere(this.subtrahiere(this.punkte[e + v], this.multipliziereMitSkalar(s, y + g)), this.multipliziereMitSkalar(h, x + k));          o[0][0] += this.multipliziereSkalar(m, m), o[0][1] += this.multipliziereSkalar(m, b), o[1][0] = o[0][1], o[1][1] += this.multipliziereSkalar(b, b), u[0] += this.multipliziereSkalar(m, $), u[1] += this.multipliziereSkalar(b, $)        }        var w, z, S = o[0][0] * o[1][1] - o[1][0] * o[0][1];        if (Math.abs(S) > l)        {          var M = o[0][0] * u[1] - o[1][0] * u[0],            I = u[0] * o[1][1] - u[1] * o[0][1];          w = I / S, z = M / S        }        else        {          var D = o[0][0] + o[0][1],            F = o[1][0] + o[1][1];          w = z = Math.abs(D) > l ? u[0] / D : Math.abs(F) > l ? u[1] / F : 0        }        var T = this.berechneEntfernung(s, h);        return l *= T, (l > w || l > z) && (w = z = T / 3), [s, this.addiere(s, this.multipliziereMitSkalar(this.normiere(a), w)), this.addiere(h, this.multipliziereMitSkalar(this.normiere(n), z)), h]      },      evaluiere: function(e, t, r)      {        for (var i = t.slice(), a = 1; e >= a; a++)          for (var n = 0; e - a >= n; n++) i[n] = this.addiere(this.multipliziereMitSkalar(i[n], 1 - r), this.multipliziereMitSkalar(i[n + 1], r));        return i[0]      },      teile: function(e, t)      {        for (var r = e.slice(), i = [], a = 1; 3 >= a; a++)          for (var n = 0; 3 - a >= n; n++) r[n] = this.addiere(this.multipliziereMitSkalar(r[n], 1 - t), this.multipliziereMitSkalar(r[n + 1], t)), i.push(r[n]);        return [          [e[0], i[0], i[3], i[5]],          [i[5], i[4], i[2], e[3]]        ]      },      zerlege: function(e, t, r)      {        var i = this.teile(e, t)[1];        return this.teile(i, (r - t) / (1 - t))[0]      },      findeGroesstenFehler: function(e, t, r, i)      {        for (var a = Math.floor((t - e + 1) / 2), n = 0, l = e + 1; t > l; l++)        {          var s = this.evaluiere(3, r, i[l - e]),            h = this.subtrahiere(s, this.punkte[l]),            o = h.x * h.x + h.y * h.y;          o >= n && (n = o, a = l)        }        return {          error: n,          index: a        }      },      reparametrisiere: function(e, t, r, i)      {        for (var a = e; t >= a; a++) r[a - e] = this.findeNullstelle(i, this.punkte[a], r[a - e]);        return r      },      findeNullstelle: function(e, t, r)      {        for (var i = [], a = [], n = 0; 2 >= n; n++) i[n] = this.multipliziereMitSkalar(this.subtrahiere(e[n + 1], e[n]), 3);        for (var n = 0; 1 >= n; n++) a[n] = this.multipliziereMitSkalar(this.subtrahiere(i[n + 1], i[n]), 2);        var l = this.evaluiere(3, e, r),          s = this.evaluiere(2, i, r),          h = this.evaluiere(1, a, r),          o = this.subtrahiere(l, t),          u = this.multipliziereSkalar(s, s) + this.multipliziereSkalar(o, h);        return Math.abs(u) < this.TOLERANZ ? r : r - this.multipliziereSkalar(o, s) / u      }    }  };< /script> < script >  $(function()  {    top();    var druckansicht = false;    var breite = 1000,      hoehe = 700;    bearbeitungAn = false;    //$("body").html("<button id='druckansicht'>Druckansicht an/aus</button><button id='speichern'>Speichern</button><br><button class='neueZeichenflaeche' >Neue ZeichenflÃ¤che</button>");    //QreatorBezier.init("#zeichnen");    function left()    {      $("#header").removeClass("left").removeClass("right").removeClass("top");      $("#header").addClass("left");      $("#content").removeClass("moveLeft").removeClass("moveDown");      $("#content").addClass("moveLeft");      $("[position='left']").hide();      $("[position='right']").show();      $("[position='top']").show();      $(".auswahl").removeClass("selectMenu");      $(".auswahl").addClass("selectMenu");    }    function right()    {      $("#header").removeClass("left").removeClass("right").removeClass("top");      $("#content").removeClass("moveLeft").removeClass("moveDown");      $("#header").addClass("right");      $("[position='right']").hide();      $("[position='left']").show();      $("[position='top']").show();      $(".auswahl").removeClass("selectMenu");      $(".auswahl").addClass("selectMenu");    }    function top()    {      $("#header").removeClass("left").removeClass("right").removeClass("top");      $("#header").addClass("top");      $("#content").removeClass("moveLeft").removeClass("moveDown");      $("#content").addClass("moveDown");      $("[position='top']").hide();      $("[position='right']").show();      $("[position='left']").show();      $(".auswahl").removeClass("selectMenu");    }    $("#speichern").click(function()    {      if (bearbeitungAn == true)      {        QreatorBezier.showSVG("zeichenflaeche");        $("#zeichnung").removeAttr("id");        bearbeitungAn = false;      }      var text = js_beautify($("html").html(),      {        'indent_inner_html': false,        'indent_size': 2,        'indent_char': ' ',        'wrap_line_length': 32000,        'brace_style': 'expand',        'unformatted': ['a', 'sub', 'sup', 'b', 'i', 'u'],        'preserve_newlines': true,        'max_preserve_newlines': 5,        'indent_handlebars': false,        'extra_liners': ['/html']      });      window.open("data:text/csv,<!DOCTYPE html><html>" + text + "</html>");    });    $("#druckansicht").click(function()    {      if (druckansicht == false)      {        if (bearbeitungAn == true)        {          QreatorBezier.showSVG("zeichenflaeche");          $("#zeichnung").removeAttr("id");          bearbeitungAn = false;        }        $(".loeschen").hide();        $(".neueZeichenflaeche").hide();        druckansicht = true;      }      else      {        $(".loeschen").show();        $(".neueZeichenflaeche").show();        druckansicht = false;      }    });    $(document).on("click", ".menu-position", function()    {      var orientation = $(this).attr("position");      switch (orientation)      {        case "left":          left();          break;        case "right":          right();          break;        default:          top();      }    });    $(document).on("click", ".neueZeichenflaeche", function()    {      if (bearbeitungAn == true)      {        QreatorBezier.showSVG("zeichenflaeche");        $("#zeichnung").removeAttr("id");        bearbeitungAn = false;      }      $(this).after("<div class='zeichnung' id='zeichnung'></div><button class='loeschen'>DarÃ¼ber liegende ZeichenflÃ¤che lÃ¶schen</button><button class='neueZeichenflaeche' >Neue ZeichenflÃ¤che</button>");      bearbeitungAn = true;      QreatorBezier.init("#zeichnung", breite, hoehe, "#menu", true); // menu: id der flÃ¤che, wo das menÃ¼ erscheint, true, dass es horizontal ist    });    //QreatorBezier.loadSVG('<svg width="800" height="600" id="svgbild"><g fill="none" stroke-linecap="round" id="global"><g id="layer_0"><path d=" M250,492 c15.8,0 29.2,-14.8 40,-24 c9.3,-7.9 18.2,-16.4 28,-24 c24.3,-18.7 68.3,-47.4 92,-65 c17.7,-13.1 34.4,-27.6 52,-41 c35.3,-26.8 65.7,-45.2 97,-76 c15.5,-15.2 19.9,-21.2 25,-39 c1.6,-5.7 1.6,-10.1 -4,-12 M346,143 c15.1,0 32.2,-1.8 47,1 c14.2,2.7 62.7,19.5 74,24 c30.4,12 61.9,21.5 74,55 c1.6,4.6 16.6,68.6 17,70 c2.1,9.6 2.8,19.6 6,29 c2.5,7.3 15.9,32 22,40 c13.5,17.6 21.7,21.2 46,29 c14.4,4.6 27.9,5.6 40,-5 c8.8,-7.8 8.5,-17.7 10,-28 M570,145 c-8.6,0 -18,0 -26,4 c-27.4,13.7 -34.4,52.9 -40,80 c-5.7,28.2 -2.9,15.9 -6,45 c-0.5,5 -2.3,9.9 -2,15 c0.3,5.1 4.7,9.8 4,15 c-0.4,3 -4.1,4.8 -7,6 c-7.1,2.9 -15.3,1.7 -23,2 c-11.9,0.3 -24,0 -36,0 c-2.3,0 -4.9,1 -7,0 c-2.9,-1.4 -4.7,-4.5 -7,-7 c-4.7,-5.2 -9.2,-10.7 -14,-16 c-13.6,-15.2 -27.5,-30.5 -42,-45" stroke="#000000" stroke-width="2"></path></g></g></svg>');    $(document).on("click", ".zeichenflaeche", function()    {      if (bearbeitungAn == true)      {        QreatorBezier.showSVG("zeichenflaeche");        bearbeitungAn = false;        $("#zeichnung").removeAttr("id");      }      var text = $(this).html();      $(this).removeClass("zeichenflaeche"); // sonst immer auf klick reagieren      bearbeitungAn = true;      QreatorBezier.init(this, breite, hoehe, "#menu", true);      // $(this).after("<button class='neueZeichenflaeche' >Neue ZeichenflÃ¤che</button>");      QreatorBezier.loadSVG(text);    });    $(document).on("click", ".loeschen", function()    {      $(this).prev().remove(); //zeichenflaeche      $(this).next().remove(); //neu-knopf      $(this).remove(); // knopf selber    });  });< /script>< script >  < /script><!-- <link rel="stylesheet" href="style.css"> --><!-- <script src="zepto.js"></script> --><!-- <script src="bezier.min.js"></script> --><!-- <script src="start.js"></script> -->< meta charset = "utf-8" >  < title > JS Bin < /title> < /head> < body >  < div id = "header"class = "top" >  < div id = "menuCommon" > < button id = "druckansicht" > Druckansicht an / aus < /button><button id="speichern">Speichern</button > < button class = "menu-position"position = "left" > MenÃ¼ links < /button><button class="menu-position" position="top" style="display: none;">MenÃ¼ oben</button > < button class = "menu-position"position = "right" > MenÃ¼ rechts < /button><br></div >  < div id = "menu" > < /div> < /div> < div id = "content"class = "moveDown" >  < button class = "neueZeichenflaeche" > Neue ZeichenflÃ¤che < /button><div class="zeichnung"><div class="zeichenflaeche"><svg width="1000" height="700" class="qreator_svg"><g fill="none" stroke-linecap="round" id="global"><g id="layer_2"><path d=" M 224 320 c 26.3 -13.1 49.1 -40.6 80 -42 c 22.1 -0.9 44.2 8.9 63 19 c 43.7 23.4 48.2 35.1 93 57 c 11.4 5.6 51.7 21.8 70 20 c 14.7 -1.4 16.2 -14.5 16 -26 c -0.5 -20.6 -9.2 -44.2 -28 -55 c -14.3 -8.1 -24.9 -11.5 -37 3 c -17.4 21 -20.6 43.1 -26 69 c -2.7 13.2 -6.8 26.4 -7 40 c -0.2 18.4 11.1 58.7 18 75 c 4.8 11.5 5.8 29.7 18 33 c 14.5 3.8 28 -11.3 42 -17" stroke="#000000" stroke-width="2.5"></path > < /g></g > < /svg></div > < /div><button class="loeschen">DarÃ¼ber liegende ZeichenflÃ¤che lÃ¶schen</button > < button class = "neueZeichenflaeche" > Neue ZeichenflÃ¤che < /button> < /div>< /body></html>